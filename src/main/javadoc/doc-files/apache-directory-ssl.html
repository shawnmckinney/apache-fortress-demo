<!--
  ~ Â© 2025 iamfortress.net
  -->
<html>
   <head>
      <title>Apache Fortress End-to-End Web App Security Tutorial</title>
       <link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
       <hr>
       <fieldset>
           <legend><b>Navigation Links</b></legend>
           <ul>
               <li><a href="./hosts.html">Set Hostname Entry</a></li>
               <li><a href="./keys.html">Managing PKI Keys</a></li>
               <li><a href="./apache-directory-ssl.html">Apache Directory SSL</a>  -OR-  <a href="./openldap-ssl.html">OpenLDAP SSL</a></li>
               <li><a href="./apache-fortress-core-ssl.html">Apache Fortress Core SSL</a></li>
               <li><a href="./mysql.html">Install MySQL</a></li>
               <li><a href="./apache-tomcat-ssl.html">Apache Tomcat SSL</a></li>
               <li><a href="./apache-fortress-demo.html">Apache Fortress Demo</a></li>
           </ul>
           <a href="../overview-summary.html">Back to top</a>
       </fieldset>
       <hr>
   </head>
   <body>
      <p>
      <h3>Apache Directory SSL</h3>
      <img src="apacheds-logo.jpeg">
      <br><br>
      This section enables apacheds LDAPS for usage in this tutorial.  More info can be found on the project's website: <a href="http://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html">Enabling SSL on apacheds</a>.

      <h4>Steps to Enable</h4>
      <ol>

          <li>
              Copy keystore created during <a href="keys.html">Managing PKI Keys</a> to ApacheDS conf folder.
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
sudo cp mykeystore /var/lib/apacheds-2.0.0-M20/default/conf
                    </p>
                </pre>
          </li>

          <li>
              Ensure the apacheds daemon has permission to access the file:
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
sudo chown apacheds /var/lib/apacheds-2.0.0-M20/default/conf/mykeystore
                    </p>
                </pre>
          </li>
          <li>
              Update ldif file with correct fully qualified keystore name, password and run the following:
              <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
ldapmodify -h localhost -p 10389 -D uid=admin,ou=system -w secret -a -f src/test/resources/apacheds-ldaps.ldif
                    </p>
                </pre>
          </li>
          <b>Or Use Apache Directory Studio...</b>

          <br><br>

          <li>
              From the LDAP Browser perspective, under the Connections tab, right-click on your connection, and select 'Open Configuration'.
          </li>
          <br><img src="./Screenshot-apacheds-open-config.png" height="50%" width="50%"/><br><br>

          <br>

          <li>
              This will open a new tab.  Enter fully qualified file name of mykeystore, as it resides on apacheds server machine, under 'Advanced LDAP/LDAPS configuration' link.  Enter the keystore password  Hit Ctrl-S to save changes.</a>.
          </li>
          <br><img src="./Screenshot-apacheds-keystore.png" height="50%" width="50%"/><br><br>

          <br>

          <li>
              Restart ApacheDS server, from system command prompt (as apacheds user):
        <pre>
            <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
/etc/init.d/apacheds-2.0.0-M20-default restart
            </p>
        </pre>
          </li>

          <li>
              Check the status of server process.

              From system command prompt (as apacheds user):
        <pre>
            <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
/etc/init.d/apacheds-2.0.0-M20-default status
                ApacheDS - default is running (70041).
            </p>
        </pre>

              Verify server restarted successfully.  Errors in the keystore or password will cause server startup to fail.  Check the logs for details. Common
              errors include incorrect file name, location, permission and password.
          </li>
      </ol>
   </body>
   <p style="font: monospace; color: black; font-size: 6pt">This is free and unencumbered software released into the public domain.</p>
</html>
