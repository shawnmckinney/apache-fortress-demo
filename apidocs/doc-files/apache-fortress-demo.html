<!--
  ~ This is free and unencumbered software released into the public domain.
  -->
<html>
   <head>
       <title>Apache Fortress End-to-End Web App Security Tutorial</title>
       <link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
       <hr>
       <fieldset>
           <legend><b>Navigation Links</b></legend>
           <ul>
               <li><a href="./hosts.html">Set Hostname Entry</a></li>
               <li><a href="./keys.html">Managing PKI Keys</a></li>
               <li><a href="./apache-directory-ssl.html">Apache Directory SSL</a>  -OR-  <a href="./openldap-ssl.html">OpenLDAP SSL</a></li>
               <li><a href="./apache-fortress-core-ssl.html">Apache Fortress Core SSL</a></li>
               <li><a href="./mysql.html">Install MySQL</a></li>
               <li><a href="./apache-tomcat-ssl.html">Apache Tomcat SSL</a></li>
               <li><a href="./apache-fortress-demo.html">Apache Fortress Demo</a></li>
           </ul>
           <a href="../overview-summary.html">Back to top</a>
       </fieldset>
       <hr>
   </head>
   <body>
      <h3>Apache Fortress Demo</h3>
      <img src="screenshot-fortress-demo.png" height="50%" width="40%">
      <h4>This section describes how to download, build, deploy the demo web app with SSL hookups to MySQL, ApacheDS and Tomcat.</h4>

      <ol>
          <li>
                  Download the <a href="https://github.com/shawnmckinney/apache-fortress-demo/archive/master.zip">Apache Fortress Demo source bundle</a>.
          </li>

          <hr>

          <li>Set java and maven home env variables.</li>

          <hr>

          <li>
            Extract the package:
            <pre>
                <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
jar -xf apache-fortress-demo-master.zip
                </p>
            </pre>
          </li>

          <hr>

          <li>
              Change directory:
            <pre>
                <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
cd apache-fortress-demo-master/
                </p>
            </pre>
          </li>

          <hr>

          <li>
              Copy [apache-fortress-demo-master]/src/main/resources/fortress.properties.example to [apache-fortress-demo-master]/src/main/resources/fortress.properties.
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">

cp ./src/main/resources/fortress.properties.example ./src/main/resources/fortress.properties
                    </p>
                </pre>
          </li>

          <hr>

          <li>
              Edit [apache-fortress-demo-master]/src/main/resources/fortress.properties file.  Verify the settings match previous steps.  More info inline to params below...
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">

# LDAP host use value from [<a href="hosts.html">Set Hostname Entry</a>]:
host=fortressdemo2.com

# LDAP port uses value from [<a href="./apache-fortress-core-ssl.html">Apache Fortress Core SSL</a>]:
# LDAPS port by default 10636 on apacheds and 636 for openldap.
port=10636

# The ldap admin creds required for read/write access to DIT:
# LDAP user/pw use same value from [<a href="./apache-fortress-core-ssl.html">Apache Fortress Core SSL</a>]:
admin.user=uid=admin,ou=system
admin.pw=secret

# Required for SSL Connections:
enable.ldap.ssl=true

# Useful when things go wrong:
enable.ldap.ssl.debug=false

# The truststore genned [<a href="keys.html">Managing PKI Keys</a>] or found under /src/test/resources in apache-fortress-demo source package.
trust.store=/home/smckinn/fortress/apache-fortress-demo-master/src/test/resources/mytruststore
trust.store.password=changeit

# Truststore must be specified a fully qualified filename:
trust.store.onclasspath=false

# The host value from [<a href="hosts.html">Set Hostname Entry</a>] step:
database.url=jdbc:mysql://fortressdemo2.com:3306/demoDB?useSSL=true&amp;requireSSL=true

# The JDBC creds required to match from [<a href="./mysql.html">Install MySQL</a>] step:
database.username=admin
database.password=secret

# This param informs fortress runtime the type of ldap server in use:
ldap.server.type=apacheds
#ldap.server.type=openldap

# Required:
database.driver=com.mysql.jdbc.Driver

# Required by the web app framework security components:
perms.cached=true
                    </p>
                </pre>
          </li>

          <hr>

          <li>
              Save and exit.
          </li>

          <hr>

          <li>
              To build and deploy this web application, run this command:
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
mvn tomcat:deploy -Dload.file
                    </p>
                </pre>
          </li>

          <hr>

          <li>
              If you need to redeploy this web application, run this command:
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
mvn tomcat:redeploy -Dload.file
                    </p>
                </pre>
          </li>

          <hr>
          <li>
              The -Dload.file system parameter tells maven to load the demo security policy into ldap in addition to deploying the app.  Since you need to do the load only once it can be dropped from future invocations:
                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
mvn tomcat:redeploy
                    </p>
                </pre>
          </li>

          <hr>

          <li>
              Automatically test using Apache Selenium with Firefox.
            <pre>
                <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
mvn test -Dtest=ApacheFortressDemoSeleniumITCase
                </p>
            </pre>
              <p>Firefox must be installed to target machine before running this step.</p>
              <p>Selenium verifies the test cases automatically.  For each user, attempts are made to hit all pages and components.  Positive and
                  negative tests are performed.  Failures in test cases will halt the execution of the program.  The policy in effect is contained
                  within <b>apache-fortress-demo-load-policy.xml</b> and loaded automatically during the web deployment step.
              </p>
          </li>

          <li>
              Automatically test using Apache Selenium with Chrome.
            <pre>
                <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
mvn test -Dtest=ApacheFortressDemoSeleniumITCase -Dweb.driver=chrome
                </p>
            </pre>
              <p>Chrome must be installed to target machine before running this step.</p>
          </li>

          <hr>

          <li>
              Manually test by connecting to web app:
              <br><br>
              <ol type="a">
                  <li>
                      non-SSL -
                      local: <a href="http://localhost:8080/apache-fortress-demo">http://localhost:8080/apache-fortress-demo</a>,
                      remote: <a href="http://fortressdemo2.com:8080/apache-fortress-demo">http://fortressdemo2.com:8080/apache-fortress-demo</a>
                      <br>
                  </li>
                  <br>
                  <li>
                      SSL -
                      local: <a href="https://localhost:8443/apache-fortress-demo">https://localhost:8443/apache-fortress-demo</a>,
                      remote: <a href="https://fortressdemo2.com:8443/apache-fortress-demo">https://fortressdemo2.com:8443/apache-fortress-demo</a>
                  </li>
              </ol>
              <br>
              Accept the self-signed certificate when the warning dialog appears.
              <p>
                  During manual testing, enter creds to login form, matching the entries found in the tables at the end of this document.
                  Activate/deactivate different roles to gain access to different page and customer combinations.
                  A dynamic separation of duty constraint prevents activation of more than one page-customer role at a time.
                  It is best to run the automated selenium tests first, before attempting manual operation, in order to understand how to use this app.
              </p>
          </li>

          <hr>

          <li>
              More about testing this app...
              <p>
                  This app's security policy maintains complex role-to-role (inheritance) and user-role assignments.  Page roles, e.g. Page1, provide access to the page itself.
                  Page-Customer roles, e.g. Page1_123, provide access to the components and data elements corresponding with that particular page for a given customer.  All users
                  (except SuperUser) are assigned combinations of page and page-customer roles.  Only one page-customer role may be active in a user's session.
              </p>
              <p>
                  For a user to have access to a given page, customer combination, they must have been, at a minimum, assigned two roles, one for the page, e.g. page1, and one for page-customer, e.g. page1_789.
                  The page roles are not bound by dynamic separation of duty (DSD) constraint.  Hence we have users like poweruser, who may navigated across pages without changing roles.  On the
                  other hand the page-customer roles are bound by DSD constraint requiring a user to deactivate one page-customer role, e.g. page1_789, before activating another, e.g. page2_789.
              </p>
              <h4>user-role relations</h4>
              <p>
              The following diagram shows the role-role and user-role relations in place:
              </p>
              <img src="apache-fortress-demo-users-roles-sample-policy.png" height="75%" width="55%">
              <br><br><b>Demo policy role-role and user-role relationships</b>
              <h4>role-permission relations</h4>
              <p>
                  The following diagram provides a view of the role-permission relationships in place:
              </p>
              <img src="apache-fortress-demo-roles-perms-sample-policy.png" height="75%" width="55%">
              <br><br><b>Demo policy role-role and role-perm relationships</b>
              <h4>about superuser</h4>
              <p>
                  The above diagrams shows that SuperUser has been granted access to all pages, all customers, via their assigned role, <b>SuperUsers</b>.
                  Granting full access in this way is a common <b>security antipattern</b> because
                  it violates the <b>principle of least privilege</b>.  Only provide the access needed to perform assigned job tasks at a given point in time - and no more.
              </p>
              <h4>about poweruser</h4>
              <p>
                  PowerUser also has access to all pages, all customers.  But this user cannot simultaneously access more than one page-customer combination.
                  This is accomplished by assigning all of the page-customer roles, i.e. Pag1_123, Page2_123, ... Page3_789, to the poweruser.
                  But the roles have a mutual exclusion policy (dynamic separation of duty constraint) preventing activation of more than one at a time.
              </p>
              <p>
                  Here is the DSD policy in effect:
              </p>

                <pre>
                    <p style="font: monospace; color: black; background-color: lightgrey; font-size: 10pt">
&lt;addsdset&gt;
    &lt;sdset
        name="Demo2DSD"
        setmembers="PAGE1_123,PAGE1_456,PAGE1_789,PAGE2_123,PAGE2_456,PAGE2_789,PAGE3_123,PAGE3_456,PAGE3_789"
        cardinality="2"
        setType="DYNAMIC"
       description="ROLE_TEST DATA roles are mutually exclusive"
    /&gt;
&lt;/addsdset&gt;
                    </p>
                </pre>
                  This is a safer approach to granting all access.  The rationale: a user cannot simultaneously service two customers at the exact same time
                  so why allow it in the first place?

              <h4>about the other users</h4>
              <p>
                  Based on the name, one may infer what level of access they have.  For example user1_123, may access page1's customer 123 functions.
                  User2 has access to all customers on page2.  User789 has access to all pages, for customer data 789.
              </p>
              <p>
                  Users may only have one page-customer role activated at a time.  To change which role is activated, deactive the old one, and activate the new using the
                  dropdown component at the top of the page.
              </p>
              <p>
                  The following diagram shows the role activation dropdown:
              </p>
              <img src="Screenshot-apache-fortress-demo-activation.png" height="40%" width="50%">
              <br><br><b>role activation dropdown</b>
              <p>
              Always activate page-customer roles: page1_123, page1_456, page1_789, page2_123, page2_456, page2_789, page3_123, page3_456, page3_789.
              <br><br>Never activate or deactivate page roles: role_page1, role_page2, role_page3.
              </p>
              <p>
                  Once a page-customer role has been activated/deactivated, its corresponding buttons will appear/disappear from the page.
              </p>
              <p>
                  The following diagram shows User1's page after role activation of page1_789 role occurred.  Notice that the buttons, Add, Update, Delete, Search, are visible.
              </p>
              <img src="Screenshot-apache-fortress-demo-user1-activate.png" height="50%" width="35%">
              <br><br><b>user1, page1, role activation step</b>
              <p>
                  The following diagram shows User1's page after role deactivation of page1_789 occurred.  Notice the buttons, Add, Update, Delete, Search, are no longer visible.
              </p>
              <img src="Screenshot-apache-fortress-demo-user1-deactivate.png" height="50%" width="35%">
              <br><br><b>user1, page1, role deactivation step</b>
          </li>

          <hr>

          <li>
              Here are the policy tables that define users, pws, and their assigned page-customer roles.  Use this information for manual test validations.
              The same policy was verified by selenium test cases, automatically, on an earlier step.
              <ol type="a">
                  <br>
                  <li>
                      <b>userId</b>: <i>superuser</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      This user is assigned <b>ROLE_DEMO2_SUPER_USER</b> which grants all permissions and inherits page1, page2 and page3 roles.
                      The page roles allow user to navigate to any page.  The perm grants on this user allow all app functions and to view all customer data.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="green">T</td>
                              <td align="center"><font color="green">T</td>
                              <td align="center"><font color="green">T</td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>poweruser</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has been assigned all of the page-customer roles and inherits page1, page2 and page3.  User may navigate to any page and operate on any customer's data but must first activate the corresponding role
                      and is subject to dynamic separation of duty constraints preventing activation of more than one page-customer role at a time.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user123</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_123</b>, <b>PAGE2_123</b> and <b>PAGE3_123</b> roles assigned.  User may perform all functions on Pages 1, 2 & 3 for Customer 123 only, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user456</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_456</b>, <b>PAGE2_456</b> and <b>PAGE3_456</b> roles assigned.  User may perform all functions on Pages 1, 2 & 3 for Customer 456 only, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user789</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_789</b>, <b>PAGE2_789</b> and <b>PAGE3_789</b> roles assigned.  User may perform all functions on Pages 1, 2 & 3 for Customer 789 only,  must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user1</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_123</b>, <b>PAGE1_456</b>, and <b>PAGE1_789</b> roles assigned.  User may perform all functions on Page1 and view data for all customers but must first activate corresponding role
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user1_123</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_123</b> role assigned.  User may perform all functions on Page1 only for Customer 123, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user1_456</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_456</b> role assigned.  User may perform all functions on Page1 only for Customer 456, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user1_789</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE1_789</b> role assigned.  User may perform all functions on Page1 only for Customer 789, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user2</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE2_123</b>, <b>PAGE2_456</b>, and <b>PAGE2_789</b> roles assigned.  User may perform all functions on Page2 and view data for all customers but must first activate corresponding role
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user2_123</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE2_123</b> role assigned.  User may perform all functions on Page2 only for Customer 123, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user2_456</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE2_456</b> role assigned.  User may perform all functions on Page2 only for Customer 456, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user2_789</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE2_789</b> role assigned.  User may perform all functions on Page2 only for Customer 789, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user3</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE3_123</b>, <b>PAGE3_456</b>, and <b>PAGE3_789</b> roles assigned.  User may perform all functions on Page3 and view data for all customers but must first activate corresponding role
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user3_123</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE3_123</b> role assigned.  User may perform all functions on Page3 only for Customer 123, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user3_456</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE3_456</b> role assigned.  User may perform all functions on Page3 only for Customer 456, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
                  <li>
                      <b>userId</b>: <i>user3_789</i>, <b>password</b>: <i>password</i>
                      <br><br>
                      The account has <b>PAGE3_789</b> role assigned.  User may perform all functions on Page3 only for Customer 789, must first activate corresponding role,
                      and is subject to dynamic separation of duty constraints.
                      <br><br>
                      <table border="1">
                          <tr>
                              <th></th>
                              <th>Customer 123</th>
                              <th>Customer 456</th>
                              <th>Customer 789</th>
                          </tr>
                          <tr>
                              <td><b>Page1</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page2</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                          </tr>
                          <tr>
                              <td><b>Page3</b></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="red">F</font></td>
                              <td align="center"><font color="green">T</font></td>
                          </tr>
                      </table>
                  </li>
                  <br>
              </ol>
          </li>
          <br>
      </ol>

   </body>
   <p style="font: monospace; color: black; font-size: 6pt">This is free and unencumbered software released into the public domain.</p>
</html>
